  // Docs: https://dbml.dbdiagram.io/docs

  Table user {
    id integer [primary key]
    name varchar(80) [not null]
    nickname varchar(20) [not null]
    xp integer [not null]
    favorite_sport integer
    created_at timestamp [not null]

    indexes {
      (xp)
    }
  }

  Table user_info {
    user_id integer [primary key]
    email varchar(100) [not null]
    phone varchar(30)
    birthday date
    city varchar(50)
    state char(2)
    country char(2)
    address varchar(150)

    indexes {
      (birthday)
      (city)
      (state)
      (country)
    }
  }

  Table sports {
    id integer [primary key]
    name varchar(30) [not null]
  }

  Table sports_positions {
    id integer [primary key]
    sport_id integer [not null]
    name varchar(30) [not null]

    indexes {
      (sport_id)
    }
  }

  Table player_favorite_position {
    user_id integer [primary key]
    sport_id integer [primary key]
    position_id integer [not null]
    added_at date [not null]
  }

  Table games {
    id integer [primary key]
    sport_id integer [not null]
    location varchar(100) [not null]
    game_time datetime [not null]
    best_player_id integer

    indexes {
      (location)
      (best_player_id)
    }
  }

  Table game_players {
    game_id integer [primary key]
    user_id integer [primary key]
    presence boolean [note: "Did the player attend ?"]
    player_grade integer
  }

  Table courts {
    id integer [primary key]
    name varchar(50) [not null]
    city varchar(50) [not null]
    country char(2) [not null]
    address varchar(150) [not null]
    g_maps varchar [not null]

    indexes {
      (name)
      (city)
    }
  }

  Table court_sports {
    court_id integer [primary key]
    sport_id integer [primary key]
  }


  // USER INFORMATION RELATION
  Ref: user.id - user_info.user_id
  Ref: user.favorite_sport - sports.id
  Ref: game_players.user_id > user.id

  // SPORT POSITIONS RELATION
  Ref: sports.id < sports_positions.sport_id
  Ref: player_favorite_position.user_id > user.id
  Ref: player_favorite_position.sport_id - sports.id
  Ref: player_favorite_position.position_id - sports_positions.id

  // GAMES RELATION
  Ref best_player: games.best_player_id > user.id
  Ref game_sport: games.sport_id > sports.id
  Ref: games.id < game_players.game_id

  // COURTS RELATION
  Ref court: court_sports.court_id > courts.id
  Ref sport: court_sports.sport_id > sports.id